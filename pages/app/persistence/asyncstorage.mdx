---
title: AsyncStorage
---

# AsyncStorage

[`AsyncStorage`](https://github.com/react-native-community/async-storage) is a (formerly built-in) API for client-side data persistence. Here we'll cover basic usage of the API and an example.

## API

The `AsyncStorage` API is promise-based. Getting and setting key-value pairs is asynchronous.

All of the following APIs can throw errors upon failure, which you'll want to handle!

### `function getItem(key: string): Promise<string | null>`

Get the `value` stored at `key`. This will return a string, or null if no data has been stored yet for that `key`. Remember to call `JSON.parse(value)` if you're storing your data in JSON format.

### `function setItem(key: string, value: string): Promise<void>`

Store the `value` at `key`, replacing any existing value stored there. Remember to call `JSON.stringify(value)` if you're storing your data in JSON format.

### `function clear()`

Clear all stored data.

### That's it!

These three APIs are frequently all you'll need, although there are more APIs for getting/setting multiple values and merging values if you have more advanced needs.

## Example

Let's look at an example of getting and setting a key-value pair in `AsyncStorage`.

This app contains:

- An `App` component thats loads the value at `STORAGE_KEY` into `name` using `useState` when it mounts. Every time you type your name in the input field and hit enter, we save `name` to `STORAGE_KEY`, as well as updating the value in `name`. Note that we also catch errors thrown when loading/saving.
- `Input.js`, a presentational `TextInput`-based component

<Example
  files={[
    ['App.js', require('../../../examples/files/app/AsyncStorage').default],
    ['Input.js', require('../../../examples/files/app/Input').default],
  ]}
/>
